{"version":3,"sources":["main.js"],"names":["arrauxiliary","document","addEventListener","localStorage","getItem","cart","JSON","parse","showMiniCart","minNumber","newArr","bidArray","catalog","arr","maxNumber","xmlhttp","XMLHttpRequest","open","onreadystatechange","myObj","responseText","push","key","i","j","length","showGoods","startCoast","Math","apply","min","window","querySelector","sort","this","value","a","b","priceMin","priceMax","slice","priceMaxValue","priceMinValue","elem","filter","checked","filterBtn","block","nextElementSibling","classList","toggle","goods","Date","now","innerHTML","buyProduct","getElementsByClassName","bidProduct","makeBid","articul","getAttribute","setItem","showCart","stringify","count","totalSum","result","image","btnDelete","plusProduct","minusProduct","k","plusGoods","deleteGoods","minusGoods","saveCartToLS","headerCart","cartPopup","display","event","stopPropagation","cartClose","style","onkeydown","onclick","keyCode","bidObj","currentBid","offerBid","bidWindowClose","bidBlock","parseInt","prodStartBid","offerValue","showModalCart","documentElement","scrollTop","htmlHeight","scrollBtn","add","remove","scrolled","timer","setTimeout","scrollBy","searchOut","search","resultSerch","onkeyup","searchInner","myExp","imgPreview","createElement","note","textContent","appendChild","inputImg","curFiles","validFileType","backgroundImage","imgItem","insertAdjacentHTML","name","returnFileSize","size","URL","createObjectURL","delImgBtn","removeChild","fileTypes","number","file","toFixed","slideIndex","slideInterval","plusSlide","moveSlide","setInterval","slidesArray","current","tabBlock","galleryPreview","galleryRow","target","galleryModal","minusSlide","galleryIndex","galleryClose","showSlides","n","slides","currentSlide"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\r\n\t//проверяю наличие товаров в корзине\r\n\tif (localStorage.getItem('cart') != null) {\r\n\t\tcart = JSON.parse (localStorage.getItem('cart'));\r\n\t}\r\n\t\t//проверяем ставки в LS\r\n\t\tshowMiniCart()\r\n\t});\r\n\r\n\r\n//загрузка товаров\r\nvar myObj;\r\nvar arrauxiliary = []; //допмассив для фильтров и сортировки\r\nvar arr = []; //основной\r\nvar catalog;\r\nvar startCoast = []; \r\nvar\tmaxNumber;\r\nvar minNumber;\r\nvar newArr; // равный дефолтному\r\nvar bidArray = [];\r\nvar\tcatalog;;\r\n\r\nvar xmlhttp = new XMLHttpRequest();\r\nxmlhttp.open(\"GET\", \"goods.txt\", true);\r\n\r\nxmlhttp.onreadystatechange = function() {\r\n\tif ((this.readyState == 4) && (this.status == 200)) {\r\n\t\tmyObj = JSON.parse(this.responseText);\r\n\t\tfor (var key in myObj) {\r\n\t\t\tarr.push(myObj[key])\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem('bidItem') != null) {\r\n\t\t\tbidArray = JSON.parse (localStorage.getItem('bidItem'));\r\n\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\tfor (var j = 0; j < bidArray.length; j++) {\r\n\t\t\t\t\tif (arr[i]['id'] == bidArray[j]['id']) {\r\n\t\t\t\t\t\tarr[i][\"start-coast\"] = bidArray[j][\"start-coast\"]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t//загружаем товары\r\n\tshowGoods()\r\n\r\n\tnewArr = arr.slice(0); //копируем дефолтный массив\r\n\tfor (var i = 0; i < arr.length; i++) {\r\n\t\tstartCoast.push(arr[i]['start-coast']);\r\n\t}\r\n\r\n\tmaxNumber = Math.max.apply(null, startCoast);\r\n\tminNumber = Math.min.apply(null, startCoast);\r\n\r\n}\r\n}\r\nxmlhttp.send();\r\n\r\nif (window.location.pathname == \"/smartfony.html\" ) {\r\n//сортировка\r\ndocument.querySelector(\".catalog-sort__list\").addEventListener(\"change\", function sort() {\r\n\tif (this.value == \"price-desc\") {\r\n\t\tarr.sort(function(a,b) {\r\n\t\t\treturn a['start-coast'] - b['start-coast'];\r\n\t\t});\r\n\t\tshowGoods();\r\n\t}\r\n\tif (this.value == \"price-asc\") {\r\n\t\tarr.sort(function(a,b) {\r\n\t\t\treturn b['start-coast'] - a['start-coast'];\r\n\t\t});\r\n\t\tshowGoods()\r\n\t}\r\n\tif (this.value == \"recommend\") {\r\n\t\tarr.sort(function(a,b) {\r\n\t\t\treturn b['recommend'] - a['recommend'];\r\n\t\t});\r\n\t\tshowGoods()\r\n\t}\r\n})\r\n\r\n//фильтр по цене\r\nvar priceMin = document.querySelector(\".filter-price__min\");\r\nvar priceMax = document.querySelector(\".filter-price__max\")\r\n\r\npriceMin.addEventListener(\"change\", function() {\r\n\tif (this.value < minNumber || this.value > maxNumber) {\r\n\t\tthis.value = minNumber;\r\n\t}\r\n})\r\n\r\npriceMax.addEventListener(\"change\", function() {\r\n\tif (this.value > maxNumber || this.value < minNumber) {\r\n\t\tthis.value = maxNumber;\r\n\t}\r\n})\r\n\r\n\r\ndocument.querySelector(\".filter-price__btn\").addEventListener(\"click\", function() {\r\n\tif (arrauxiliary.length > 0) {\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t} else {\r\n\t\tarr = newArr.slice(0);\r\n\t}\r\n\tvar priceMinValue = priceMin.value;\r\n\tvar priceMaxValue = priceMax.value;\r\n\tif ((priceMaxValue == \"\" && priceMinValue == \"\") || (priceMaxValue == \"\")) {\r\n\t\treturn false;\r\n\t} else {\r\n\t\tarr = arr.filter(function (elem) {\r\n\t\t\tif (elem['start-coast'] >= priceMinValue && elem['start-coast'] <= priceMaxValue) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\tarrauxiliary.push(arr[i]);\r\n\t\t}\r\n\t\tshowGoods()\r\n\t}\r\n})\r\n\r\n//фильтр по состоянию\r\n\r\ndocument.querySelector(\".filter-condition-new\").addEventListener(\"change\", function() {\r\n\tif (this.checked) {\r\n\t\tif (arrauxiliary.length > 0) {\r\n\t\t\tarr = arrauxiliary.slice(0);\r\n\t\t} else {\r\n\t\t\tarr = newArr.slice(0);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < newArr.length; i++) {\r\n\t\t\tif (newArr[i][\"product condition\"] == \"new\") {\r\n\t\t\t\tarrauxiliary.push(newArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t\tshowGoods();\r\n\t} else {\r\n\t\tarrauxiliary = arrauxiliary.filter(function(elem) {\r\n\t\t\tif (elem[\"product condition\"] == \"not new\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false\r\n\t\t});\r\n\t\tif (arrauxiliary.length == 0) {\r\n\t\t\tarr = newArr.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t} else {\r\n\t\t\tarr = arrauxiliary.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t}\r\n\t}\r\n})\r\n\r\ndocument.querySelector(\".filter-condition-notNew\").addEventListener(\"change\", function() {\r\n\tif (this.checked) {\r\n\t\tif (arrauxiliary.length > 0) {\r\n\t\t\tarr = arrauxiliary.slice(0);\r\n\t\t} else {\r\n\t\t\tarr = newArr.slice(0);\r\n\t\t}\r\n\t\tfor (var i = 0; i < newArr.length; i++) {\r\n\t\t\tif (newArr[i][\"product condition\"] == \"not new\") {\r\n\t\t\t\tarrauxiliary.push(newArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t\tshowGoods();\r\n\t} else {\r\n\t\tarrauxiliary = arrauxiliary.filter(function(elem) {\r\n\t\t\tif (elem[\"product condition\"] == \"new\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t});\r\n\t\tif (arrauxiliary.length == 0) {\r\n\t\t\tarr = newArr.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t} else {\r\n\t\t\tarr = arrauxiliary.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t}\r\n\t}\r\n})\r\n\r\n//фильтр-техническое состояние\r\n\r\ndocument.querySelector(\".filter-repair-ok\").addEventListener(\"change\", function() {\r\n\tif (this.checked) {\r\n\t\tif (arrauxiliary.length > 0) {\r\n\t\t\tarr = arrauxiliary.slice(0);\r\n\t\t} else {\r\n\t\t\tarr = newArr.slice(0);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < newArr.length; i++) {\r\n\t\t\tif (newArr[i][\"repair\"] == \"ok\") {\r\n\t\t\t\tarrauxiliary.push(newArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t\tshowGoods();\r\n\t} else {\r\n\t\tarrauxiliary = arrauxiliary.filter(function(elem) {\r\n\t\t\tif (elem[\"repair\"] != \"ok\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false\r\n\t\t});\r\n\t\tif (arrauxiliary.length == 0) {\r\n\t\t\tarr = newArr.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t} else {\r\n\t\t\tarr = arrauxiliary.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t}\r\n\t}\r\n})\r\n\r\ndocument.querySelector(\".filter-repair-faulty\").addEventListener(\"change\", function() {\r\n\tif (this.checked) {\r\n\t\tif (arrauxiliary.length > 0) {\r\n\t\t\tarr = arrauxiliary.slice(0);\r\n\t\t} else {\r\n\t\t\tarr = newArr.slice(0);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < newArr.length; i++) {\r\n\t\t\tif (newArr[i][\"repair\"] == \"faulty\") {\r\n\t\t\t\tarrauxiliary.push(newArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t\tshowGoods();\r\n\t} else {\r\n\t\tarrauxiliary = arrauxiliary.filter(function(elem) {\r\n\t\t\tif (elem[\"repair\"] != \"faulty\") {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false\r\n\t\t});\r\n\t\tif (arrauxiliary.length == 0) {\r\n\t\t\tarr = newArr.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t} else {\r\n\t\t\tarr = arrauxiliary.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t}\r\n\t}\r\n})\r\n\r\n// фильтр-диагональ\r\n\r\ndocument.querySelector(\".filter-diagonal-wide\").addEventListener(\"change\", function() {\r\n\tif (this.checked) {\r\n\t\tif (arrauxiliary.length > 0) {\r\n\t\t\tarr = arrauxiliary.slice(0);\r\n\t\t} else {\r\n\t\t\tarr = newArr.slice(0);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < newArr.length; i++) {\r\n\t\t\tif (newArr[i][\"diagonal\"] > 6) {\r\n\t\t\t\tarrauxiliary.push(newArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t\tshowGoods();\r\n\t} else {\r\n\t\tarrauxiliary = arrauxiliary.filter(function(elem) {\r\n\t\t\tif (elem[\"diagonal\"] < 6) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t});\r\n\r\n\t\tif (arrauxiliary.length == 0) {\r\n\t\t\tarr = newArr.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t} else {\r\n\t\t\tarr = arrauxiliary.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t}\r\n\t}\r\n})\r\n\r\ndocument.querySelector(\".filter-diagonal-middle\").addEventListener(\"change\", function() {\r\n\tif (this.checked) {\r\n\t\tif (arrauxiliary.length > 0) {\r\n\t\t\tarr = arrauxiliary.slice(0);\r\n\t\t} else {\r\n\t\t\tarr = newArr.slice(0);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < newArr.length; i++) {\r\n\t\t\tif (newArr[i][\"diagonal\"] >= 5 && newArr[i][\"diagonal\"] <= 6) {\r\n\t\t\t\tarrauxiliary.push(newArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t\tshowGoods();\r\n\t} else {\r\n\t\tarrauxiliary = arrauxiliary.filter(function(elem) {\r\n\t\t\tif (elem[\"diagonal\"] < 5 && elem[\"diagonal\"] > 6 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t});\r\n\t\tif (arrauxiliary.length == 0) {\r\n\t\t\tarr = newArr.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t} else {\r\n\t\t\tarr = arrauxiliary.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t}\r\n\t}\r\n})\r\n\r\ndocument.querySelector(\".filter-diagonal-small\").addEventListener(\"change\", function() {\r\n\tif (this.checked) {\r\n\t\tif (arrauxiliary.length > 0) {\r\n\t\t\tarr = arrauxiliary.slice(0);\r\n\t\t} else {\r\n\t\t\tarr = newArr.slice(0);\r\n\t\t}\r\n\t\tfor (var i = 0; i < newArr.length; i++) {\r\n\t\t\tif (newArr[i][\"diagonal\"] < 3) {\r\n\t\t\t\tarrauxiliary.push(newArr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tarr = arrauxiliary.slice(0);\r\n\t\tshowGoods();\r\n\t} else {\r\n\t\tarrauxiliary = arrauxiliary.filter(function(elem) {\r\n\t\t\tif (elem[\"diagonal\"] > 3 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false\r\n\t\t});\r\n\t\tif (arrauxiliary.length == 0) {\r\n\t\t\tarr = newArr.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t} else {\r\n\t\t\tarr = arrauxiliary.slice(0)\r\n\t\t\tshowGoods();\r\n\t\t}\r\n\t}\r\n})\r\n\r\n//фильтр-аккордеон\r\nvar filterBtn = document.getElementsByClassName(\"catalog-filter__title\");\r\n\r\nfor (var i = 0; i < filterBtn.length; i++) {\r\n\tfilterBtn[i].addEventListener(\"click\", function() {\r\n\t\tthis.classList.toggle(\"show\")\r\n\t\tvar block = this.nextElementSibling;\r\n\t\tblock.classList.toggle('catalog-filter__block_hide');\t\r\n\t})\r\n}\r\n\r\n}\r\n\r\nfunction showGoods() {\r\n\tgoods = \"\";\r\n\tfor (var i = 0; i < arr.length; i++) {\r\n\t\tgoods += '<div class = \"product-cell\">';\r\n\t\tgoods += '<a class = \"product-cell__picture\" href = '+ arr[i]['href'] +'>' + '<img class = \"product-img\" src = \"' + arr[i]['image'] +'\">' + '</a>';\r\n\t\tgoods += '<div class = \"product-cell__time\">' + \"До окончания аукциона: \" + Math.floor((new Date(arr[i]['start sale']) - Date.now())/86400000) + \" дн.\" +'</div>';\r\n\t\tgoods += '<h4 class = \"product-cell__title\">' + arr[i]['name'] + '</h4>';\r\n\t\tgoods += '<div class = \"product-cell__price\">'\r\n\t\tgoods += '<div class = \"price-title\">' + \"Текущая цена:\" + '</div>';\r\n\t\tgoods += '<div class = \"product-price\" data-art = \"'+ arr[i]['id']+'\">' + arr[i]['start-coast'] + \" грн\" + '</div>';\r\n\t\tgoods += '</div>'\r\n\t\tgoods += '<div class = \"product-cell__price\">'\r\n\t\tgoods += '<div class = \"price-title\">' + \"Купить сейчас:\" + '</div>';\r\n\t\tgoods += '<div class = \"product-price\">' + arr[i]['coast'] + \" грн\" + '</div>';\r\n\t\tgoods += '</div>'\r\n\t\tgoods += '<div class = \"product-cell__btn\">'\r\n\t\tgoods += '<div class = \"product-btn-bid\" data-art = \"'+arr[i]['id'] + '\">' + \"<p class = product-btn-title>\" + \"Сделать ставку\" + \"</p>\" + '</div>';\r\n\t\tgoods += '<div class = \"product-btn-buy\" data-art = \"'+ arr[i]['id']+'\">' + \"<p class = product-btn-title>\" + \"Купить\" + \"</p>\" + '</div>';\r\n\t\tgoods += '</div>'\r\n\t\tgoods += '</div>';\r\n\t}\r\n\tcatalog = document.querySelector(\".catalog-products\");\r\n\tcatalog.innerHTML = goods;\r\n\tvar buyProduct = document.getElementsByClassName(\"product-btn-buy\");\r\n\tfor ( var i = 0; i < buyProduct.length; i++) {\r\n\t\tbuyProduct[i].addEventListener('click', addToCart);\r\n\t\tbuyProduct[i].addEventListener('click', showModalCart);\r\n\t}\r\n\tvar bidProduct = document.getElementsByClassName(\"product-btn-bid\");\r\n\tfor (var i = 0; i < bidProduct.length; i++) {\r\n\t\tbidProduct[i].addEventListener(\"click\", makeBid)\r\n\t}\r\n}\r\n\r\n//Добавляем товар в корзину\r\nvar cart = {}; //корзина\r\nfunction addToCart() {\r\n\tvar articul = this.getAttribute('data-art');\r\n\tif (cart[articul]!=undefined) {\r\n\t\tcart[articul]++;\r\n\t} else cart[articul] = 1;\r\n\r\n\tlocalStorage.setItem('cart', JSON.stringify(cart));\r\n\tshowMiniCart();\r\n\tshowCart()\r\n}\r\n\r\n\r\nfunction showMiniCart() {\r\n\tvar count = 0;\r\n\t//показываем содеримое корзины\r\n\tfor (var j in cart) {\r\n\t\tcount++;\r\n\t}\r\n\r\n\tdocument.querySelector(\".count-goods\").innerHTML = count;\r\n}\r\n\r\nfunction showCart() {\r\n\tvar result = \"\";\r\n\tvar totalSum = 0;\r\n\r\n\tfor (var key in cart) {\r\n\t\tresult += '<div class = \"cart-info\">';\r\n\t\tresult += '<button class = \"cart-info__delete\" data-art = \"'+key+'\">X</button>';\r\n\t\tresult += '<img src = \"'+ myObj[key].image +'\" class = \"cart-info__img\">';\r\n\t\tresult += '<div class = \"cart-info__title\">'+ myObj[key]['name']+'</div>';\r\n\t\tresult += '<div class = \"cart-info__amount\">';\r\n\t\tresult += '<button class = \"cart-amount-minus\" data-art = \"'+key+'\">&ndash;</button>';\r\n\t\tresult += '<input class = \"cart-amount\" type = \"text\" value = \"'+cart[key]+'\">';\r\n\t\tresult += '<button class = \"cart-amount-plus\" data-art = \"'+key+'\">+</button>';\r\n\t\tresult += '</div>';\r\n\t\tresult += '<div class = \"cart-info__price\">';\r\n\t\tresult += '<span class = \"cart-sum\">'+ cart[key]*myObj[key]['coast']+'</span>';\r\n\t\tresult += '<span class = \"cart-currency\">грн</span>';\r\n\t\tresult += '</div>';\r\n\t\tresult += '</div>';\r\n\t\ttotalSum += cart[key]*myObj[key]['coast'];\r\n\t}\r\n\r\n\tdocument.querySelector(\".cart-popup__content\").innerHTML = result;\r\n\tdocument.querySelector(\".cart-total-sum\").innerHTML = totalSum;\r\n\r\n\tvar plusProduct = document.getElementsByClassName(\"cart-amount-plus\");\r\n\tvar minusProduct = document.getElementsByClassName(\"cart-amount-minus\");\r\n\tvar btnDelete = document.getElementsByClassName(\"cart-info__delete\");\r\n\tfor ( var i = 0; i < plusProduct.length; i++) {\r\n\t\tplusProduct[i].addEventListener('click', plusGoods);\r\n\t}\r\n\r\n\tfor ( var k = 0; k < minusProduct.length; k++) {\r\n\t\tminusProduct[k].addEventListener('click', minusGoods);\r\n\t}\r\n\r\n\tfor ( var j = 0; j < btnDelete.length; j++) {\r\n\t\tbtnDelete[j].addEventListener('click', deleteGoods);\r\n\t}\r\n}\r\n\r\nfunction plusGoods() {\r\n\tvar articul = this.getAttribute('data-art');\r\n\tcart[articul]++;\r\n\tsaveCartToLS();\r\n\tshowCart();       \r\n}\r\n\r\nfunction minusGoods() {\r\n\tvar articul = this.getAttribute('data-art');\r\n\tif (cart[articul] > 1) cart[articul]--;\r\n\telse delete cart[articul];\r\n\tsaveCartToLS();\r\n\tshowCart();\r\n\tshowMiniCart()\r\n}\r\n\r\nfunction deleteGoods() {\r\n\tvar articul = this.getAttribute('data-art');\r\n\tdelete cart[articul];\r\n\tsaveCartToLS();\r\n\tshowCart();\r\n\tshowMiniCart()\r\n}\r\n\r\nfunction saveCartToLS() {\r\n\tlocalStorage.setItem('cart', JSON.stringify(cart))\r\n}\r\n\r\n//модальное окно корзина\r\nvar headerCart = document.querySelector(\".header-cart\");\r\nheaderCart.addEventListener(\"click\", showModalCart);\r\nheaderCart.addEventListener(\"click\", showCart);\r\n\r\nfunction showModalCart() {\r\n\tvar cartPopup = document.querySelector(\".page__cart\");\r\n\tcartPopup.style.display = \"block\";\r\n\tdocument.querySelector(\".cart-popup__close\").addEventListener(\"click\", cartClose);\r\n\tdocument.querySelector(\".overlay-modal\").addEventListener(\"click\", cartClose);\r\n\tdocument.querySelector(\".cart-popup\").onclick = function(event) {event.stopPropagation()};\r\n\tdocument.querySelector(\".btn-continue\").addEventListener(\"click\", cartClose);\r\n\r\n\tdocument.onkeydown = function(event) {\r\n\t\tif (event.keyCode == 27) { \r\n\t\t\tcartClose();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction cartClose() {\r\n\t\tcartPopup.style.display = 'none';\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n\r\n//модальное окно сделать ставку\r\nfunction makeBid() {\r\n\tvar bidObj = {};\r\n\tvar result = \"\";\r\n\tvar bidBlock = document.querySelector(\".bid-block\");\r\n\tbidBlock.style.display = \"block\";\r\n\tvar articul = this.getAttribute('data-art');\r\n\tbidObj[articul] = 1;\r\n\tfor (var key in bidObj) {\r\n\t\tresult += '<div class = \"bid-info\">';\r\n\t\tresult += '<img src = \"'+ myObj[key].image +'\" class = \"bid-info__img\">';\r\n\t\tresult += '<div class = \"bid-info__title\">'+ myObj[key]['name']+'</div>';\r\n\t\tresult += '</div>';\r\n\t\tresult += '<div class = \"make-bid\">';\r\n\t\tresult += '<div class = \"bid-current\">';\r\n\t\tresult += '<p class = \"bid-current__title\">Текущая цена</p>';\r\n\t\tresult += '<div class = \"bid-current__price\">' + myObj[key]['start-coast']+ \" грн\" + '</div>';\r\n\t\tresult += '</div>';\r\n\t\tresult += '<div class = \"bid-offer\">';\r\n\t\tresult += '<p class = \"bid-offer__title\">Ставка</p>';\r\n\t\tresult += '<input type = \"number\" class = \"bid-offer__price\">';\r\n\t\tresult += '</div>';\r\n\t\tresult += '<button class = \"make-bid-btn\">Сделать ставку</button>';\r\n\t\tresult += '</div>';\r\n\t\t\r\n\t}\r\n\r\n\tdocument.querySelector(\".bid-popup__content\").innerHTML = result;\r\n\r\n\tvar currentBid = document.querySelector(\".bid-current__price\");\r\n\tvar offerBid = document.querySelector(\".bid-offer__price\");\r\n\tofferBid.value = parseInt(currentBid.innerHTML) + 20;\r\n\r\n\tdocument.querySelector(\".make-bid-btn\").addEventListener(\"click\", function() {\r\n\t\tvar offerValue = offerBid.value;\r\n\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\tif (arr[i]['id'] == articul) {\r\n\t\t\t\tarr[i]['start-coast'] = offerValue;\r\n\t\t\t\tcurrentBid.innerHTML = offerValue + \" грн\";\r\n\t\t\t\tbidArray.push(arr[i]);\r\n\t\t\t\tlocalStorage.setItem('bidItem', JSON.stringify(bidArray));\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar prodStartBid = document.getElementsByClassName(\"product-price\");\r\n\t\tfor (var i = 0; i < prodStartBid.length; i++) {\r\n\t\t\tif (prodStartBid[i].getAttribute(\"data-art\") == articul) {\r\n\t\t\t\tprodStartBid[i].innerHTML = offerValue + \" грн\";\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tdocument.querySelector(\".bid-popup__close\").addEventListener(\"click\", bidWindowClose);\r\n\tdocument.querySelector(\".overlay-modal_bid\").addEventListener(\"click\", bidWindowClose);\r\n\tdocument.querySelector(\".bid-popup\").onclick = function(event) {event.stopPropagation()}\r\n\tdocument.querySelector(\".btn-continue_size\").addEventListener(\"click\", bidWindowClose);\r\n\r\n\tdocument.onkeydown = function(event) {\r\n\t\tif (event.keyCode == 27) { \r\n\t\t\tbidWindowClose();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction bidWindowClose() {\r\n\t\tbidBlock.style.display = 'none';\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n}\r\n\r\n//фиксация меню\r\nvar htmlHeight = document.documentElement.scrollHeight;\r\nwindow.addEventListener('scroll', function() {\r\n\tvar scrolling = document.documentElement.scrollTop;\r\n\tif (scrolling > 150 && htmlHeight > 800) {\r\n\t\tdocument.querySelector(\".header__top\").classList.add(\"fixed-line\");\r\n\t} else {\r\n\t\tdocument.querySelector(\".header__top\").classList.remove('fixed-line');\r\n\t};\r\n});\r\n\r\n\r\nvar scrollBtn = document.querySelector(\".scroll-top\");\r\nvar scrolled;\r\nvar timer;\r\n\r\nwindow.addEventListener (\"scroll\", function() {\r\n\tscrolled = document.documentElement.scrollTop;\r\n\tif (scrolled > 100) {\r\n\t\tscrollBtn.style.display = \"block\";\r\n\t} else scrollBtn.style.display = \"none\";\r\n})\r\n\r\ndocument.querySelector(\".scroll-top\").addEventListener(\"click\", function scrollTop() {\r\n\tif (scrolled > 0) {\r\n\t\twindow.scrollBy(0, -140);\r\n\t\ttimer = setTimeout(scrollTop, 80);\r\n\t} else {\r\n\t\tclearTimeout(timer);\r\n\t}\r\n})\r\n\r\n//поиск на сайте\r\n\r\nvar searchOut = document.querySelector(\".search-result\");\r\ndocument.querySelector(\".search-form__inner\").onkeyup = function() {\r\n\tsearchOut.innerHTML = \"\";\r\n\tvar resultSerch = \"\";\r\n\tvar searchInner = this.value.replace(/(^\\s+|\\s+$)/g, \"\");\r\n\tvar myExp = new RegExp (searchInner, \"i\");\r\n\tfor (var key in myObj) {\r\n\t\tif (myObj[key]['name'].search(myExp) != -1) {\r\n\t\t\tresultSerch += '<div class=\"search-result__list\">' + myObj[key]['name'] + '</div>';\r\n\t\t}\r\n\t}\r\n\tsearchOut.innerHTML += resultSerch;\r\n\tif (searchInner == \"\") searchOut.innerHTML = \"\";\r\n}\r\n\r\n\r\n//загрузка картинок в форме\r\nif (window.location.pathname == \"/new-offer.html\" ) {\r\n\tvar inputImg = document.querySelector(\".img-load__file\");\r\n\tvar imgPreview = document.querySelector(\".img-preview\");\r\n\r\n\tinputImg.addEventListener('change', function() {\r\n\t\tvar curFiles = inputImg.files;\r\n\r\n\t\tif (curFiles.length == 0) {\r\n\t\t\tvar note = document.createElement('p');\r\n\t\t\tnote.textContent = 'Файл не выбран';\r\n\t\t\timgPreview.appendChild(note);\r\n\t\t\tnote.classList.add(\"img-preview__text\");\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < curFiles.length; i++) {\r\n\t\t\t\tvar imgItem = document.createElement('div');\r\n\t\t\t\tvar note = document.createElement('p');\r\n\t\t\t\tnote.classList.add(\"img-preview__text\");\r\n\r\n\t\t\t\tif (validFileType(curFiles[i])) {\r\n\t\t\t\t\tnote.textContent = 'Имя файла ' + curFiles[i].name + ', размер ' + returnFileSize(curFiles[i].size) + '.';\r\n\t\t\t\t\tvar image = document.createElement('img');\r\n\t\t\t\t\timage.style.backgroundImage = \"url(\" + window.URL.createObjectURL(curFiles[i]) +\")\";\r\n\t\t\t\t\timgItem.appendChild(image);\r\n\t\t\t\t\timage.classList.add(\"preview-picture\");\r\n\t\t\t\t\timage.insertAdjacentHTML(\"afterEnd\", \"<span class = 'img-preview__delete'>x</span>\")\r\n\t\t\t\t\timgItem.appendChild(note);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnote.textContent = 'Не допустимый тип файла';\r\n\t\t\t\t\timgItem.appendChild(note);\r\n\t\t\t\t}\r\n\r\n\t\t\t\timgPreview.appendChild(imgItem);\r\n\t\t\t\timgItem.classList.add(\"img-preview__item\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar delImgBtn = document.getElementsByClassName(\"img-preview__delete\");\r\n\t\t\r\n\t\tfor (var i = 0; i < delImgBtn.length; i++) {\r\n\t\t\tdelImgBtn[i].addEventListener(\"click\", function() {\r\n\t\t\t\timgPreview.removeChild(this.parentNode);\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\n\tvar fileTypes = [\r\n\t'image/jpeg',\r\n\t'image/pjpeg',\r\n\t'image/png'\r\n\t]\r\n\r\n\tfunction validFileType(file) {\r\n\t\tfor(var i = 0; i < fileTypes.length; i++) {\r\n\t\t\tif(file.type === fileTypes[i]) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction returnFileSize(number) {\r\n\t\tif (number < 1024) {\r\n\t\t\treturn number + 'bytes';\r\n\t\t} else if(number >= 1024 && number < 1048576) {\r\n\t\t\treturn (number/1024).toFixed(1) + 'KB';\r\n\t\t} else if(number >= 1048576) {\r\n\t\t\treturn (number/1048576).toFixed(1) + 'MB';\r\n\t\t}\r\n\t}\r\n}\r\n\r\nif (window.location.pathname == \"/index.html\" ) {\r\n//слайдер\r\nvar slideIndex = 1;\r\nvar slideInterval = setInterval(plusSlide, 9000);\r\ndocument.querySelector(\".next-slider\").addEventListener('click', plusSlide);\r\ndocument.querySelector(\".prev-slider\").addEventListener('click', minusSlide);\r\n\r\nfunction plusSlide() {\r\n\tmoveSlide(slideIndex++);\r\n}\r\n\r\nfunction minusSlide() {\r\n\tmoveSlide(slideIndex--);\r\n}\r\n\r\nfunction moveSlide() {\r\n\tvar slidesArray = document.getElementsByClassName(\"slider__item\");\r\n\tvar current = slidesArray.length;\r\n\r\n\tif (slideIndex > slidesArray.length) {\r\n\t\tslideIndex = 1;\r\n\t}\r\n\r\n\tif (slideIndex < 1) {\r\n\t\tslideIndex = slidesArray.length;\r\n\t}\r\n\r\n\tfor (var i = 0; i < slidesArray.length; i++) {\r\n\t\tslidesArray[i].style.display = \"none\";\r\n\t}\r\n\r\n\tslidesArray[current - slideIndex].style.display = \"block\";\r\n\r\n}\r\n\r\n\r\nfunction showTabsContent(b) {\r\n\tfor (var i = 0; i < tabBlock.length; i++) {\r\n\t\ttabBlock[i].style.display = \"none\";\r\n\t}\r\n\ttabBlock[b].style.display = \"block\";\r\n}\r\n\r\n\t//галерея\r\n\tvar galleryRow = document.getElementsByClassName(\"gallery-row__img\");\r\n\tvar galleryPreview = document.getElementsByClassName(\"modal-row__img\");\r\n\tvar galleryModal = document.querySelector(\".gallery-modal\");\r\n\tvar galleryIndex = 1;\r\n\tshowSlides(galleryIndex);\r\n\r\n\tdocument.querySelector(\".gallery-row\").addEventListener(\"click\", function (event) {\r\n\t\tfor (var i = 0; i <= galleryRow.length; i++) {\r\n\t\t\tif (event.target == galleryRow[i]) {\r\n\t\t\t\tcurrentSlide(i);\r\n\t\t\t\tgalleryModal.style.display = \"block\";\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\tdocument.querySelector(\".modal-row\").onclick= function (event) {\r\n\t\tfor (var i = 0; i <= galleryPreview.length; i++) {\r\n\t\t\tif (event.target == galleryPreview[i]) {\r\n\t\t\t\tcurrentSlide(i);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdocument.onkeydown = function(event) {\r\n\t\tif (event.keyCode == 27) { \r\n\t\t\tgalleryClose();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tdocument.querySelector(\".gallery-modal__close\").onclick = galleryClose;\r\n\r\n\tfunction galleryClose() {\r\n\t\tgalleryModal.style.display = \"none\";\r\n\t}\r\n\r\n\r\n\tdocument.querySelector(\".modal-main__prev\").onclick = function() {\r\n\t\tshowSlides(galleryIndex--);\r\n\t}\r\n\r\n\tdocument.querySelector(\".modal-main__next\").onclick = function() {\r\n\t\tshowSlides(galleryIndex++);\r\n\t}\r\n\r\n\tfunction currentSlide(n) {\r\n\t\tshowSlides(galleryIndex = n+1);\r\n\t}\r\n\r\n\tfunction showSlides(n) {\r\n\t\tvar slides = document.getElementsByClassName(\"modal-main__img\");\r\n\t\tif (galleryIndex > slides.length) {galleryIndex = 1}\r\n\t\t\tif (galleryIndex < 1) {galleryIndex = slides.length}\r\n\t\t\t\tfor (var i = 0; i < slides.length; i++) {\r\n\t\t\t\t\tslides[i].style.display = \"none\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tslides[galleryIndex - 1].style.display = \"block\";\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n"]}